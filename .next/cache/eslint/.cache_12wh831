[{"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\auth\\[...nextauth].js":"1","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\categories.js":"2","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\hello.js":"3","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\orders.js":"4","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\products.js":"5","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\upload.js":"6","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\categories.js":"7","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\index.js":"8","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\orders.js":"9","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products\\delete\\[...id].js":"10","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products\\edit\\[...id].js":"11","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products\\new.js":"12","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products.js":"13","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\_app.js":"14","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\_document.js":"15","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Layout.js":"16","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Logo.js":"17","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Nav.js":"18","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\ProductForm.js":"19","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Spinner.js":"20","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\lib\\mongodb.js":"21","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\lib\\mongoose.js":"22"},{"size":1236,"mtime":1724595527418,"results":"23","hashOfConfig":"24"},{"size":1127,"mtime":1724444601101,"results":"25","hashOfConfig":"24"},{"size":175,"mtime":1717344900570,"results":"26","hashOfConfig":"24"},{"size":335,"mtime":1724444571450,"results":"27","hashOfConfig":"24"},{"size":1289,"mtime":1724444597095,"results":"28","hashOfConfig":"24"},{"size":1766,"mtime":1724432821019,"results":"29","hashOfConfig":"24"},{"size":6739,"mtime":1724446065573,"results":"30","hashOfConfig":"24"},{"size":593,"mtime":1717344900572,"results":"31","hashOfConfig":"24"},{"size":1475,"mtime":1724445103706,"results":"32","hashOfConfig":"24"},{"size":1109,"mtime":1717344900573,"results":"33","hashOfConfig":"24"},{"size":704,"mtime":1717344900574,"results":"34","hashOfConfig":"24"},{"size":237,"mtime":1717344900574,"results":"35","hashOfConfig":"24"},{"size":1333,"mtime":1724445877715,"results":"36","hashOfConfig":"24"},{"size":288,"mtime":1720961612265,"results":"37","hashOfConfig":"24"},{"size":782,"mtime":1724445266608,"results":"38","hashOfConfig":"24"},{"size":2950,"mtime":1724446621701,"results":"39","hashOfConfig":"24"},{"size":217,"mtime":1723334962809,"results":"40","hashOfConfig":"24"},{"size":5430,"mtime":1724591823473,"results":"41","hashOfConfig":"24"},{"size":8500,"mtime":1723339135127,"results":"42","hashOfConfig":"24"},{"size":164,"mtime":1724002273829,"results":"43","hashOfConfig":"24"},{"size":1044,"mtime":1724430272448,"results":"44","hashOfConfig":"24"},{"size":260,"mtime":1724430338360,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13eeasz",{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\auth\\[...nextauth].js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\categories.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\hello.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\orders.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\products.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\api\\upload.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\categories.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\index.js",["114"],[],"import Layout from \"@/components/Layout\";\r\nimport {useSession} from \"next-auth/react\";\r\n\r\nexport default function Home() {\r\n  const {data: session} = useSession();\r\n  return <Layout>\r\n    <div className=\"text-blue-900 flex justify-between\">\r\n      <h2>\r\n        Hello, <b>{session?.user?.name}</b>\r\n      </h2>\r\n      <div className=\"flex bg-gray-300 gap-1 text-black rounded-lg overflow-hidden\">\r\n        <img src={session?.user?.image} alt=\"\" className=\"w-6 h-6\"/>\r\n        <span className=\"px-2\">\r\n          {session?.user?.name}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n}\r\n","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\orders.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products\\delete\\[...id].js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products\\edit\\[...id].js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products\\new.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\products.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\_app.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\pages\\_document.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Layout.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Logo.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Nav.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\ProductForm.js",["115"],[],"import { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"@/components/Spinner\";\r\nimport { ReactSortable } from \"react-sortablejs\";\r\n\r\nexport default function ProductForm({\r\n  _id,\r\n  title: existingTitle,\r\n  description: existingDescription,\r\n  price: existingPrice,\r\n  images: existingImages,\r\n  category: assignedCategory,\r\n  properties: assignedProperties,\r\n}) {\r\n  const [title, setTitle] = useState(existingTitle || \"\");\r\n  const [description, setDescription] = useState(existingDescription || \"\");\r\n  const [category, setCategory] = useState(assignedCategory || \"\");\r\n  const [productProperties, setProductProperties] = useState(\r\n    assignedProperties || {}\r\n  );\r\n  const [price, setPrice] = useState(existingPrice || \"\");\r\n  const [images, setImages] = useState(existingImages || []);\r\n  const [goToProducts, setGoToProducts] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [properties, setProperties] = useState();\r\n\r\n  const router = useRouter();\r\n  useEffect(() => {\r\n    axios.get(\"/api/categories\").then((result) => {\r\n      console.log(\"result\", result);\r\n\r\n      setCategories(result.data);\r\n    });\r\n  }, []);\r\n\r\n\r\n  // useEffect(() => { console.log('----------------------------------', properties) }, [properties])\r\n\r\n  async function saveProduct(ev) {\r\n    ev.preventDefault();\r\n    const data = {\r\n      title,\r\n      description,\r\n      price,\r\n      images,\r\n      category,\r\n      properties,\r\n    };\r\n    if (_id) {\r\n      //update\r\n      await axios.put(\"/api/products\", { ...data, _id });\r\n    } else {\r\n      //create\r\n      await axios.post(\"/api/products\", data);\r\n    }\r\n    setGoToProducts(true);\r\n  }\r\n  if (goToProducts) {\r\n    router.push(\"/products\");\r\n  }\r\n  async function uploadImages(ev) {\r\n    const files = ev.target?.files;\r\n    if (files?.length > 0) {\r\n      setIsUploading(true);\r\n      const data = new FormData();\r\n      for (const file of files) {\r\n        data.append(\"file\", file);\r\n      }\r\n      const res = await axios.post(\"/api/upload\", data);\r\n      console.log(\"res - - - \", res.data.links);\r\n      setImages((oldImages) => {\r\n        return [...oldImages, ...res.data.links];\r\n      });\r\n      setIsUploading(false);\r\n    }\r\n  }\r\n  function updateImagesOrder(images) {\r\n    setImages(images);\r\n  }\r\n  function setProductProp(propName, value) {\r\n    setProductProperties((prev) => {\r\n      const newProductProps = { ...prev };\r\n      newProductProps[propName] = value;\r\n      return newProductProps;\r\n    });\r\n  }\r\n\r\n  const propertiesToFill = [];\r\n  if (categories.length > 0 && category) {\r\n    let catInfo = categories.find(({ _id }) => _id === category);\r\n    propertiesToFill.push(...catInfo.properties);\r\n    while (catInfo?.parent?._id) {\r\n      const parentCat = categories.find(\r\n        ({ _id }) => _id === catInfo?.parent?._id\r\n      );\r\n      propertiesToFill.push(...parentCat.properties);\r\n      catInfo = parentCat;\r\n    }\r\n  }\r\n\r\n  function addProperty() {\r\n    setProperties({ size: true, border: true })\r\n  }\r\n  function handlePropertyValuesChange(property, key) {\r\n    if (key === 'border') {\r\n      setProperties({ ...properties, border: !property });\r\n      // setPropertiesBorder(!property)\r\n    } else {\r\n      setProperties({ ...properties, size: !property });\r\n      // setPropertiesSize()\r\n    }\r\n    console.log('properties', properties)\r\n  }\r\n  function removeProperty() {\r\n    setProperties();\r\n  }\r\n  return (\r\n    <form onSubmit={saveProduct}>\r\n      <label>Product name</label>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"product name\"\r\n        value={title}\r\n        onChange={(ev) => setTitle(ev.target.value)}\r\n      />\r\n      <label>Category</label>\r\n      <select value={category} onChange={(ev) => setCategory(ev.target.value)}>\r\n        <option value=\"\">Uncategorized</option>\r\n        {categories.length > 0 &&\r\n          categories.map((c) => (\r\n            <option key={c._id} value={c._id}>\r\n              {c.name}\r\n            </option>\r\n          ))}\r\n      </select>\r\n      {propertiesToFill.length > 0 &&\r\n        propertiesToFill.map((p) => (\r\n          <div key={p.name} className=\"\">\r\n            <label>{p.name[0].toUpperCase() + p.name.substring(1)}</label>\r\n            <div>\r\n              <select\r\n                value={productProperties[p.name]}\r\n                onChange={(ev) => setProductProp(p.name, ev.target.value)}\r\n              >\r\n                {p.values.map((v) => (\r\n                  <option key={v} value={v}>\r\n                    {v}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      <label>Photos</label>\r\n      <div className=\"mb-2 flex flex-wrap gap-1\">\r\n        <ReactSortable\r\n          list={images}\r\n          className=\"flex flex-wrap gap-1\"\r\n          setList={updateImagesOrder}\r\n        >\r\n          {!!images?.length &&\r\n            images.map((link) => (\r\n              <div\r\n                key={link}\r\n                className=\"h-24 bg-white p-4 shadow-sm rounded-sm border border-gray-200\"\r\n              >\r\n                <img src={link} alt=\"\" className=\"rounded-lg\" />\r\n              </div>\r\n            ))}\r\n        </ReactSortable>\r\n        {isUploading && (\r\n          <div className=\"h-24 flex items-center\">\r\n            <Spinner />\r\n          </div>\r\n        )}\r\n        <label className=\"w-24 h-24 cursor-pointer text-center flex flex-col items-center justify-center text-sm gap-1 text-primary rounded-sm bg-white shadow-sm border border-primary\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            strokeWidth={1.5}\r\n            stroke=\"currentColor\"\r\n            className=\"w-6 h-6\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5\"\r\n            />\r\n          </svg>\r\n          <div>Add image</div>\r\n          <input type=\"file\" onChange={uploadImages} className=\"hidden\" />\r\n        </label>\r\n      </div>\r\n      <label>Description</label>\r\n      <textarea\r\n        placeholder=\"description\"\r\n        value={description}\r\n        onChange={(ev) => setDescription(ev.target.value)}\r\n      />\r\n      <label>Price (in USD)</label>\r\n      <input\r\n        type=\"number\"\r\n        placeholder=\"price\"\r\n        value={price}\r\n        onChange={(ev) => setPrice(ev.target.value)}\r\n      />\r\n\r\n      {/* <div>\r\n        <label>Properties</label>\r\n        <div className=\"\">\r\n          <input\r\n            checked\r\n            id=\"green-checkbox\"\r\n            type=\"checkbox\"\r\n            value=\"\"\r\n            className=\"\"\r\n          />\r\n          <label\r\n            for=\"green-checkbox\"\r\n            className=\" \"\r\n          >\r\n            Green\r\n          </label>\r\n        </div>\r\n      </div> */}\r\n      <div className=\"mb-2\">\r\n        <label className=\"block\">Properties</label>\r\n        <button\r\n          onClick={addProperty}\r\n          type=\"button\"\r\n          className=\"btn-default text-sm mb-2\">\r\n          Add new property\r\n        </button>\r\n        {properties &&\r\n          <div className=\"properties_checks_container\" >\r\n            <div className=\"properties_check\" >\r\n              <input\r\n                type=\"checkbox\"\r\n                // className=\"mb-0\"\r\n                onChange={ev =>\r\n                  handlePropertyValuesChange(properties.size, 'size')\r\n                }\r\n                checked={properties.size}\r\n              />\r\n              Add Size\r\n            </div>\r\n            <div className=\"properties_check\" >\r\n              <input\r\n                type=\"checkbox\"\r\n                // className=\"mb-0\"\r\n                onChange={ev =>\r\n                  handlePropertyValuesChange(properties.border, 'border')\r\n                }\r\n                checked={properties.border}\r\n              />\r\n              Add Borders\r\n            </div>\r\n            <button\r\n              onClick={() => removeProperty()}\r\n              type=\"button\"\r\n              className=\"btn-red\">\r\n              Remove\r\n            </button>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n      <button type=\"submit\" className=\"btn-primary\">\r\n        Save\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n","E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\components\\Spinner.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\lib\\mongodb.js",[],[],"E:\\safhan\\Clients\\e-commerce\\deepwall\\ecommerce-admin\\lib\\mongoose.js",[],[],{"ruleId":"116","severity":1,"message":"117","line":12,"column":9,"nodeType":"118","endLine":12,"endColumn":69},{"ruleId":"116","severity":1,"message":"117","line":169,"column":17,"nodeType":"118","endLine":169,"endColumn":65},"@next/next/no-img-element","Using `<img>` could result in slower LCP and higher bandwidth. Use `<Image />` from `next/image` instead to utilize Image Optimization. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement"]